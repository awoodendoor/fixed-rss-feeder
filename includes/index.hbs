<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <title>{{siteTitle}}</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="robots" content="noindex, nofollow" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
  <link rel="alternate" type="application/rss+xml" title="{{siteTitle}}" href="{{feedHref}}" />
  

  <!-- 引用外部 CSS -->
  <link rel="stylesheet" href="statics/index.css" />
</head>

<body>
  <header>
    <dl>
      <dt>站点：</dt><dd>{{siteTitle}}</dd>
      <dt>构建：</dt><dd>{{siteBuildTimestamp}}</dd>
      <dt>版本：</dt><dd>{{cliVersion}}</dd>
    </dl>
  </header>

  {{#each articles}}
  <article>
    <details>
      <summary>
        <h1>{{title}}</h1>
      </summary>
      <div class="meta-info">
        <span>来源：<a href="{{source.siteUrl}}">{{source.title}}</a></span>
        <span>日期：<time>{{isoPublishDate}}</time></span>
        {{#if readingTimeInMin}}
        <span>阅读时间：{{readingTimeInMin}} 分钟</span>
        {{/if}}
        {{#if wordCount}}
        <span>字数：{{wordCount}}</span>
        {{/if}}
      </div>
      
      {{#if imageUrl}}
      <img src="{{imageUrl}}" alt="{{title}}" class="article-image" referrerpolicy="no-referrer">
      {{/if}}
      
      <div class="content">
        <p>{{description}}</p>
      </div>
    </details>
  </article>
  {{/each}}

  <!-- ⭐ 加载更多按钮 -->
  <div id="load-more-container">
    <button id="load-more-btn">加载更多文章</button>
  </div>

  <!-- ⭐ 分页逻辑脚本 -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const articles = document.querySelectorAll('article');
      const loadMoreBtn = document.getElementById('load-more-btn');
      const itemsPerPage = 10;

      // 1. 初始化：隐藏第10条之后的文章
      articles.forEach((article, index) => {
        if (index >= itemsPerPage) {
          article.classList.add('hidden');
        }
      });

      // 更新按钮文案
      function updateButton() {
        const hiddenArticles = document.querySelectorAll('article.hidden');
        if (hiddenArticles.length === 0) {
          loadMoreBtn.textContent = '没有更多文章了';
          loadMoreBtn.disabled = true;
        } else {
          loadMoreBtn.textContent = `加载更多 (${hiddenArticles.length} 篇剩余)`;
        }
      }

      // 初始化按钮状态
      if (articles.length <= itemsPerPage) {
        loadMoreBtn.style.display = 'none'; //如果不满10条，直接隐藏按钮
      } else {
        updateButton();
      }

      // 2. 点击事件
      loadMoreBtn.addEventListener('click', function() {
        const hiddenArticles = document.querySelectorAll('article.hidden');
        
        // 显示接下来的10条
        for (let i = 0; i < itemsPerPage; i++) {
          if (hiddenArticles[i]) {
            hiddenArticles[i].classList.remove('hidden');
          }
        }

        updateButton();
      });
    });
  </script>
</body>
</html>